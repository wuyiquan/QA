发生呕血时，呕吐物的颜色主要跟几方面因素有关系，分别是：出血量的大小、血液在胃内停留时间的长短、出血部位在消化道的位置。如果出血速度比较慢、量比较少，或者在胃内（停留）的时间比较长，血液中的血红蛋白能够被胃酸作用后形成酸化正铁血红蛋白，呕吐物就会变成咖啡色、棕褐色。因此，当患者呕吐物是咖啡色时，医生会首先考虑有没有发生消化道出血，然后通过呕吐物化验、查血、胃镜等检查来确定是否是消化道出血。