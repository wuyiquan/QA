发生了上消化道出血，建议积极住院治疗。住院后，在专科医师的指导下进一步检查评估出血的原因、出血的部位、出血的量，经过检查明确了出血的部位、出血的原因以及出血量后可以尽早采取相应的治疗措施，避免病情加重。